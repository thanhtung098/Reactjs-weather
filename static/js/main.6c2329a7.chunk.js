(this["webpackJsonpmy-weather"]=this["webpackJsonpmy-weather"]||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(2),c=a.n(s),i=a(15),r=a.n(i),o=(a(26),a(3)),d=a.n(o),l=a(4),h=a(16),j=a(17),x=a(5),b=a(20),u=a(19),g=(a(28),{item:[{dt:1610968228,date:"2021-01-18T11:10+0000",height:2.5,type:"High"},{dt:1610988732,date:"2021-01-18T16:52+0000",height:.8,type:"Low"},{dt:1611007194,date:"2021-01-18T21:59+0000",height:2.3,type:"High"},{dt:1611031559,date:"2021-01-19T04:45+0000",height:1.6,type:"Low"},{dt:1611056238,date:"2021-01-19T11:37+0000",height:2.4,type:"High"},{dt:1611077825,date:"2021-01-19T17:37+0000",height:1.2,type:"Low"},{dt:1611096369,date:"2021-01-19T22:46+0000",height:2.8,type:"High"},{dt:1611119652,date:"2021-01-20T05:14+0000",height:1.5,type:"Low"},{dt:1611144131,date:"2021-01-20T12:02+0000",height:2.4,type:"High"},{dt:1611167258,date:"2021-01-20T18:27+0000",height:1,type:"Low"},{dt:1611186225,date:"2021-01-20T23:43+0000",height:2.2,type:"High"},{dt:1611207641,date:"2021-01-21T05:40+0000",height:1.8,type:"Low"},{dt:1611231932,date:"2021-01-21T12:25+0000",height:2.5,type:"High"},{dt:1611257128,date:"2021-01-21T19:25+0000",height:.8,type:"Low"},{dt:1611278262,date:"2021-01-22T01:17+0000",height:2.4,type:"High"},{dt:1611295633,date:"2021-01-22T06:07+0000",height:1.8,type:"Low"},{dt:1611319833,date:"2021-01-22T12:50+0000",height:2.6,type:"High"},{dt:1611347418,date:"2021-01-22T20:30+0000",height:.6,type:"Low"},{dt:1611374420,date:"2021-01-23T04:00+0000",height:1.4,type:"High"},{dt:1611383885,date:"2021-01-23T06:38+0000",height:3,type:"Low"},{dt:1611408131,date:"2021-01-23T13:22+0000",height:2,type:"High"},{dt:1611437721,date:"2021-01-23T21:35+0000",height:.85,type:"Low"},{dt:1611468345,date:"2021-01-24T06:05+0000",height:1.6,type:"High"},{dt:1611474124,date:"2021-01-24T07:42+0000",height:2.24,type:"Low"},{dt:1611497239,date:"2021-01-24T14:07+0000",height:1.2,type:"High"},{dt:1611527542,date:"2021-01-24T22:32+0000",height:1.084,type:"Low"},{dt:1611557525,date:"2021-01-25T06:52+0000",height:4.8,type:"High"}]}),m=(a(29),function(e){var t,a,s,c=e.tranlateX,i=(e.setTranlateTide,e.hours,e.coorY),r={transform:"translate(-".concat(c,"px, ").concat(0,"px)")},o={transform:"translate(-".concat(520,"px, ",0,"px)")};new Date;return s=(t=Math.floor(2*c/60))+" : "+(a=Math.round(c%60))+" AM",t>12&&(s=t-12+" : "+a+" PM"),Object(n.jsxs)("div",{className:"chart-content",children:[Object(n.jsxs)("ul",{className:"breadcrumb",children:[Object(n.jsx)("li",{children:"Tide"}),Object(n.jsx)("li",{children:"Sunrise & sunset"})]}),Object(n.jsxs)("div",{className:"block-canvas-linesun",children:[Object(n.jsx)("div",{className:"block-sun-line",id:"block-sun-line",children:Object(n.jsx)("div",{className:"set-scroll",children:"a"})}),Object(n.jsxs)("div",{className:"ctent-sun-line",style:r,children:[Object(n.jsx)("canvas",{id:"canvas-tide",style:o}),Object(n.jsx)("canvas",{id:"canvas"})]}),Object(n.jsx)("div",{className:"time-of-day",children:Object(n.jsx)("span",{children:s})}),Object(n.jsx)("div",{className:"block-icon-sun",children:Object(n.jsx)("div",{className:"icon-sun",style:{top:i-18},children:Object(n.jsx)("img",{src:"./sun-line-icon.png"})})})]})]})}),p=function(e){var t;return e.dataCurrent&&""!=e.dataCurrent?(t=e.dataCurrent,Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"now-weather",children:[Object(n.jsx)("div",{className:"icon-windy",children:Object(n.jsx)("img",{src:t.condition.icon})}),Object(n.jsx)("div",{className:"status-weather",children:t.condition.text}),Object(n.jsxs)("div",{className:"temp-weather-percent",children:[Object(n.jsxs)("span",{className:"temp-text",children:[Object(n.jsx)("img",{src:"./thermometer.png"}),t.temp_c," \u2103 "]}),Object(n.jsxs)("span",{className:"temp-text-humidity",children:[Object(n.jsx)("img",{src:"./humidity.png"}),t.humidity," % "]})]})]}),Object(n.jsx)("div",{className:"list-function",children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"PSI"}),Object(n.jsx)("span",{children:t.pressure_in})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"FEELLIKE"}),Object(n.jsx)("span",{children:t.feelslike_c})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"CLOUD"}),Object(n.jsx)("span",{children:t.cloud})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"UV"}),Object(n.jsx)("span",{children:t.uv})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"WIND"}),Object(n.jsx)("span",{children:t.wind_kph})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"WIND DIRECTION"}),Object(n.jsx)("span",{children:t.wind_dir})]})]})})]})):Object(n.jsxs)("div",{className:"ml-loader",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})},O=(a(30),function(e){return Object(n.jsxs)("div",{className:"top-content",children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{className:"toggle-bar",children:[Object(n.jsx)("span",{className:"icon-bar"}),Object(n.jsx)("span",{className:"icon-bar"}),Object(n.jsx)("span",{className:"icon-bar"})]}),Object(n.jsxs)("div",{className:"block-location",children:[Object(n.jsx)("p",{children:"myENV"}),Object(n.jsx)("span",{children:"Singapore"})]}),Object(n.jsx)("div",{className:"block-icon",children:Object(n.jsx)("img",{src:"./bell.png"})})]}),Object(n.jsx)(p,{dataCurrent:e.dataCurrent})]})}),f=(a(31),function(e){var t=e.item,a=(new Date(t.date)+"").split(" ");return Object(n.jsxs)("div",{className:"item-day",children:[Object(n.jsx)("div",{className:"block-date-txt",children:Object(n.jsxs)("div",{className:"icon-weather",children:[Object(n.jsx)("h1",{children:a[0]}),Object(n.jsx)("img",{src:t.day.condition.icon})]})}),Object(n.jsx)("div",{className:"description-txt",children:Object(n.jsxs)("div",{className:"temp-wind",children:[Object(n.jsx)("h3",{children:t.day.condition.text}),Object(n.jsxs)("span",{children:[Object(n.jsx)("img",{src:"./icon-item.png"}),t.day.mintemp_c,"-",t.day.maxtemp_c," \u2103"]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("img",{src:"./icon-wind-blue.png"}),t.day.maxwind_mph,"-",t.day.maxwind_kph," km/h"]})]})})]})}),y=function(e){var t=e.dataNextDays,a="";return t.length>0?(a=t.map((function(e){return Object(n.jsx)(f,{item:e})})),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"number-list-days",children:"3-day outlook"}),Object(n.jsx)("div",{className:"list-weather-days",children:a})]})):Object(n.jsxs)("div",{children:[Object(n.jsx)("hr",{}),Object(n.jsx)("hr",{}),Object(n.jsx)("hr",{}),Object(n.jsx)("hr",{}),Object(n.jsx)("hr",{}),Object(n.jsx)("hr",{})]})},v=function(e){var t,a,s=e.arrayDataCondition,c=e.dataNextDays,i=e.getDataCondition,r=e.session;return c.length>0&&0!==Object.keys(s).length?(t=c[0],a=s,Object(n.jsxs)("div",{className:"ctent-map",children:[Object(n.jsx)("img",{src:"./map-singapo.jpg"}),Object(n.jsx)("div",{className:"body-map",children:Object(n.jsxs)("div",{className:"status-weather",children:[Object(n.jsx)("p",{children:"24-hour Forecast"}),Object(n.jsxs)("div",{className:"list-current-status",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("img",{src:"./thermometer.png"})," Temp ",Object(n.jsx)("br",{}),t.day.mintemp_c," - ",t.day.maxtemp_c," \u2103"]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("img",{src:"./humidity.png"})," Humidity ",Object(n.jsx)("br",{}),t.day.avghumidity,"%"]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("img",{src:"./icon-wind-blue-white.png"})," Wind ",Object(n.jsx)("br",{}),t.day.maxwind_mph," - ",t.day.maxwind_kph,"km/h"]})]}),Object(n.jsxs)("div",{className:"weather-location",children:[Object(n.jsx)("span",{className:"top-location",children:Object(n.jsx)("img",{src:a.top.icon})}),Object(n.jsx)("span",{className:"bottom-location",children:Object(n.jsx)("img",{src:a.bottom.icon})}),Object(n.jsx)("span",{className:"center-location",children:Object(n.jsx)("img",{src:a.center.icon})}),Object(n.jsx)("span",{className:"right-location",children:Object(n.jsx)("img",{src:a.right.icon})}),Object(n.jsx)("span",{className:"left-location",children:Object(n.jsx)("img",{src:a.left.icon})})]}),Object(n.jsxs)("div",{className:"change-section-day",children:[Object(n.jsx)("span",{className:"morning"===r?"active":"",onClick:function(){return i("morning")},children:"Morning"}),Object(n.jsx)("span",{className:"afternoon"===r?"active":"",onClick:function(){return i("afternoon")},children:"Afternoon"}),Object(n.jsx)("span",{className:"night"===r?"active":"",onClick:function(){return i("night")},children:"Night"})]})]})})]})):Object(n.jsxs)("div",{className:"ml-loader",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})},w=(a(32),a(18)),T=a.n(w).a.create({baseURL:"https://api.weatherapi.com/v1/",params:{key:"d1855a32d3b7440b803152607210401",q:"",days:""}}),N=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).drawLineSun=Object(l.a)(d.a.mark((function e(){var t,a,n,s,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("canvas"),a=t.getContext("2d"),t.width=2e3,t.height=140,n={x:0,y:120},s={x:0,y:120},c={x:105,y:120},i={x:210,y:120},a.beginPath(),a.font="11px Arial",a.textAlign="center",a.textBaseline="middle",a.fillStyle="red",a.fillText("0:00 AM",20,135),a.fillText("7:00 AM",210,135),a.fillText("7:00 PM",570,135),a.fillText("0:00 AM",720,135),a.fillText("7:00 AM",930,135),a.fillText("7:00 PM",1290,135),a.fillText("7:00 AM",1660,135),a.setLineDash([5,4]),a.lineWidth=1,a.strokeStyle="#faa23e",a.moveTo(n.x,n.y),a.bezierCurveTo(s.x,s.y,c.x,c.y,i.x,i.y),a.bezierCurveTo(210,120,390,-140,570,120),a.bezierCurveTo(570,120,720,120,930,120),a.bezierCurveTo(930,120,1110,-140,1290,120),a.bezierCurveTo(1290,120,1470,120,1660,120),a.stroke(),a.fillStyle="#aae1f6",a.fillRect(s.x,s.y-9,210,10),a.fillRect(570,111,360,10),a.fillRect(1290,111,370,10);case 34:case"end":return e.stop()}}),e)}))),n.drawLineTideChart=Object(l.a)(d.a.mark((function e(){var t,a,s,c,i,r,o,l,h,j,x,b,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementById("canvas-tide"),a=t.getContext("2d"),t.width=8e3,t.height=130,a.beginPath(),a.setLineDash([0]),s=[],s=g.item,a.beginPath(),a.lineWidth=1.5,a.strokeStyle="#0979ab",a.lineJoin="round",a.moveTo(0,130),c=n.getDay(s[0].dt),s.map((function(e){var t=n.getDay(e.dt)-c;e.x=720*t+n.getMinutes(e.dt,"degree"),e.y=n.checkCoorTide(e.height),e.hour=n.getMinutes(e.dt,"hour")})),i=0,r=0,o=0,.3,1,l=0,h=0,j=s[0],b=0;b<s.length;b++)c===n.getDay(s[b].dt)&&(x=n.getMinutes(s[b].dt,"degree")),u=s[b],(m=s[b+1])?(i=n.gradient(j,m),l=-.3*(m.x-u.x),h=l*i*1):(l=0,h=0),a.font="12px Arial",a.textAlign="center",a.textBaseline="middle",a.fillStyle="#ffd8f5",a.fillRect(u.x-34,u.y-44,70,34),a.font="10px Arial",a.fillStyle=" #0478a7",a.textAlign="center",a.fillText(u.hour,u.x,u.y-18),a.stroke(),a.font="bold 14px Arial",a.fillText(u.height+"m",u.x,u.y-31),a.stroke(),a.fillStyle="#aae1f6",a.bezierCurveTo(j.x-r,j.y-o,u.x+l,u.y+h,u.x,u.y),r=l,o=h,j=u,b==s.length-1&&a.bezierCurveTo(j.x-r,j.y-o,u.x+l,u.y+h,u.x,130-u.y);n.setState({setTranlateTide:x}),a.fill();case 26:case"end":return e.stop()}}),e)}))),n.gradient=function(e,t){return(t.y-e.y)/(t.x-e.x)},n.checkCoorTide=function(e){return 130-32*e},n.getDay=function(e){return new Date(1e3*e).getDate()},n.getMinutes=function(e,t){var a=new Date(1e3*e),n=a.getHours(),s="AM";n>12&&(n-=12,s="PM");var c=a.getMinutes(),i=60*a.getHours()+c;return"degree"==t?i/2:"hour"==t?n+":"+c+" "+s:void 0},n.getBezierXY=function(e,t,a,n,s,c,i,r,o){return{x:Math.pow(1-e,3)*t+3*e*Math.pow(1-e,2)*n+3*e*e*(1-e)*c+e*e*e*r,y:Math.pow(1-e,3)*a+3*e*Math.pow(1-e,2)*s+3*e*e*(1-e)*i+e*e*e*o}},n.getTimeNow=function(){var e=new Date;e.getHours()>12&&n.setState({session:"afternoon"}),e.getHours()>19&&n.setState({session:"night"})},n.handleScroll=function(){var e=document.getElementById("block-sun-line"),t=.001,a={x:0,y:0};e.scrollLeft<=210&&e.scrollLeft>=1&&(t=e.scrollLeft/210,a=n.getBezierXY(t,0,120,0,120,105,120,210,120),n.setState({tranlateX:a.x,coorY:a.y})),e.scrollLeft<=570&&e.scrollLeft>210&&(t=(e.scrollLeft-210)/360,a=n.getBezierXY(t,210,120,210,120,390,-140,570,120),n.setState({tranlateX:a.x,coorY:a.y})),e.scrollLeft<=930&&e.scrollLeft>570&&(t=(e.scrollLeft-570)/360,a=n.getBezierXY(t,570,120,570,120,720,120,930,120),n.setState({tranlateX:a.x,coorY:a.y})),e.scrollLeft<=1290&&e.scrollLeft>930&&(t=(e.scrollLeft-930)/360,a=n.getBezierXY(t,930,120,930,120,1110,-140,1290,120),n.setState({tranlateX:a.x,coorY:a.y})),e.scrollLeft<=1660&&e.scrollLeft>1290&&(t=(e.scrollLeft-1290)/360,a=n.getBezierXY(t,1290,120,1290,120,1470,120,1660,120),n.setState({tranlateX:a.x,coorY:a.y}))},n.componentDidMount=function(){n.getTimeNow(),n.getAPIweather(),n.getAPIweatherLocation(),n.drawLineSun(),n.drawLineTideChart(),window.addEventListener("scroll",n.handleScroll,!0)},n.getAPIweatherLocation=Object(l.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,T.get("forecast.json",{params:{q:"1.391667, 103.894444",days:"3"}});case 3:return a=e.sent,e.next=6,T.get("forecast.json",{params:{q:"1.291667, 103.85",days:"3"}});case 6:return e.sent,e.next=9,T.get("forecast.json",{params:{q:"1.328883, 103.739947",days:"3"}});case 9:return e.sent,e.next=12,T.get("forecast.json",{params:{q:"1.349592, 103.956789",days:"3"}});case 12:return e.sent,e.next=15,T.get("forecast.json",{params:{q:"1.391667, 103.894444",days:"3"}});case 15:s=e.sent,t.push({topWeather:{morning:a.data.forecast.forecastday[0].hour[7].condition,afternoon:a.data.forecast.forecastday[0].hour[15].condition,night:a.data.forecast.forecastday[0].hour[22].condition}}),t.push({bottomWeather:{morning:a.data.forecast.forecastday[0].hour[7].condition,afternoon:a.data.forecast.forecastday[0].hour[15].condition,night:a.data.forecast.forecastday[0].hour[22].condition}}),t.push({leftWeather:{morning:a.data.forecast.forecastday[0].hour[7].condition,afternoon:a.data.forecast.forecastday[0].hour[15].condition,night:a.data.forecast.forecastday[0].hour[22].condition}}),t.push({rightWeather:{morning:a.data.forecast.forecastday[0].hour[7].condition,afternoon:a.data.forecast.forecastday[0].hour[15].condition,night:a.data.forecast.forecastday[0].hour[22].condition}}),t.push({centerWeather:{morning:s.data.forecast.forecastday[0].hour[7].condition,afternoon:a.data.forecast.forecastday[0].hour[15].condition,night:a.data.forecast.forecastday[0].hour[22].condition}}),n.setState({dataWeatherLocation:t}),"morning",n.getDataCondition(n.state.session);case 24:case"end":return e.stop()}}),e)}))),n.getDataCondition=function(){var e=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n.setState({session:t}),n.state.dataWeatherLocation.map((function(e){e.topWeather&&(a.top=e.topWeather[t]),e.bottomWeather&&(a.bottom=e.bottomWeather[t]),e.leftWeather&&(a.left=e.leftWeather[t]),e.rightWeather&&(a.right=e.rightWeather[t]),e.centerWeather&&(a.center=e.centerWeather[t])})),n.setState({arrayDataCondition:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.alert=function(){console.log(1)},n.getAPIweather=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("forecast.json",{params:{q:"singapore",days:"3"}});case 2:t=e.sent,console.log(t.data.current),n.setState({dataNextDays:t.data.forecast.forecastday,dataCurrent:t.data.current});case 5:case"end":return e.stop()}}),e)}))),n.state={tranlateX:0,coorY:120,hours:0,initPsTie:1,setTranlateTide:720,dataCurrent:[],dataNextDays:[],dataWeatherLocation:[],session:"morning",arrayDataCondition:{}},n.getDataCondition=n.getDataCondition.bind(Object(x.a)(n)),n}return Object(j.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container-page",children:[Object(n.jsx)(O,{dataCurrent:this.state.dataCurrent}),Object(n.jsx)(m,{tranlateX:this.state.tranlateX,setTranlateTide:this.state.setTranlateTide,hours:this.state.hours,coorY:this.state.coorY}),Object(n.jsx)(v,{alert:this.alert,getDataCondition:this.getDataCondition,session:this.state.session,dataNextDays:this.state.dataNextDays,arrayDataCondition:this.state.arrayDataCondition}),Object(n.jsx)(y,{dataNextDays:this.state.dataNextDays})]})}}]),a}(s.Component),L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),L()}},[[51,1,2]]]);
//# sourceMappingURL=main.6c2329a7.chunk.js.map